<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UnitLink</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="manifest" href="/manifest.json"/>
  <script src="auth.js" defer></script>
</head>
<body>
  <div id="auth">
    <h1>Вход / Регистрация</h1>
    <div id="auth-form">
      <input type="text" id="username" placeholder="Логин"/>
      <input type="password" id="password" placeholder="Пароль"/>
      <button id="register-btn">Зарегистрироваться</button>
      <button id="login-btn">Войти</button>
    </div>

    <div id="profile-form" style="display:none;">
      <h2>Ваш профиль</h2>
      <input id="profile-name" placeholder="Имя" required/>
      <input id="profile-surname" placeholder="Фамилия" required/>
      <input id="profile-blood_type" placeholder="Группа крови" required/>
      <input id="profile-allergies" placeholder="Аллергии"/>
      <input id="profile-contraindications" placeholder="Противопоказания"/>
      <div id="contacts-container">
        <h3>Контакты</h3>
        <div class="contact-field">
          <input type="text" class="contact-type" placeholder="Тип"/>
          <input type="text" class="contact-value" placeholder="Значение"/>
        </div>
        <button onclick="addContactField()">Добавить</button>
      </div>
      <button onclick="saveProfile()">Сохранить</button>
      <button onclick="shareLink()">Поделиться</button>
    </div>
  </div>

  <script>
    window.addEventListener('load', () => {
      const regBtn = document.getElementById('register-btn');
      const logBtn = document.getElementById('login-btn');
      regBtn?.addEventListener('click', window.register);
      logBtn?.addEventListener('click', window.login);
    });

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js');
    }
  </script>
</body>
</html>